{"name":"Heavy Talkers for Edge","description":"Top Edge nodes by throughput (in/out events and bytes). Filter by Fleet.","created":1769600000000,"modified":1769600000000,"createdBy":"pack","modifiedBy":"pack","displayCreatedBy":"Cribl Search Inventory Pack","displayModifiedBy":"Cribl Search Inventory Pack","schedule":{"enabled":false,"cronSchedule":"0 * * * *","tz":"UTC","keepLastN":2},"groups":{},"elements":[{"id":"ht-time-range","type":"input.timerange","variant":"input","title":"Time Range","inputId":"time_range","config":{"defaultValue":{"earliest":"-1h","latest":"now","timezone":"local"}},"layout":{"x":0,"y":0,"w":3,"h":2}},{"id":"ht-fleet-dropdown","type":"input.dropdown","variant":"input","title":"Fleet","inputId":"fleet","config":{"defaultValue":"*","field":"worker_group"},"search":{"type":"inline","query":"dataset==\"cribl_metrics\" dist_mode==\"managed-edge\" | summarize by worker_group","earliest":"$time_range.earliest$","latest":"$time_range.latest$","timezone":"$time_range.timezone$"},"layout":{"x":3,"y":0,"w":3,"h":2}},{"id":"ht-markdown","type":"markdown.default","variant":"markdown","config":{"markdown":"# Heavy Talkers for Edge\n\nView **Edge nodes** with the highest throughput by fleet. Use the **Time Range** picker and **Fleet** dropdown (choose * for all fleets). Data from the built-in **cribl_metrics** dataset. Throughput is aggregated from metric rows: `total.in_bytes`, `total.out_bytes`, `total.in_events`, `total.out_events` per Edge node.\n","axis":{}},"layout":{"x":0,"y":2,"w":12,"h":2}},{"id":"ht-chart-in-events","type":"chart.line","variant":"chart","title":"Inbound events over time","config":{"axis":{"x":{"field":"_time","title":"Time"},"y":{"fields":["in_events"],"title":"Inbound events"}},"splitBy":"instance"},"search":{"type":"inline","query":"dataset==\"cribl_metrics\" dist_mode==\"managed-edge\" (worker_group==\"$fleet\" or \"$fleet\"==\"*\") metric==\"total.in_events\" | summarize in_events=sum(value) by bin(_time, 5m), instance | sort by _time asc","earliest":"$time_range.earliest$","latest":"$time_range.latest$","timezone":"$time_range.timezone$"},"layout":{"x":0,"y":4,"w":6,"h":4}},{"id":"ht-chart-out-events","type":"chart.line","variant":"chart","title":"Outbound events over time","config":{"axis":{"x":{"field":"_time","title":"Time"},"y":{"fields":["out_events"],"title":"Outbound events"}},"splitBy":"instance"},"search":{"type":"inline","query":"dataset==\"cribl_metrics\" dist_mode==\"managed-edge\" (worker_group==\"$fleet\" or \"$fleet\"==\"*\") metric==\"total.out_events\" | summarize out_events=sum(value) by bin(_time, 5m), instance | sort by _time asc","earliest":"$time_range.earliest$","latest":"$time_range.latest$","timezone":"$time_range.timezone$"},"layout":{"x":6,"y":4,"w":6,"h":4}},{"id":"ht-chart-in-bytes","type":"chart.line","variant":"chart","title":"Inbound bytes over time","config":{"axis":{"x":{"field":"_time","title":"Time"},"y":{"fields":["in_bytes"],"title":"Inbound bytes"}},"splitBy":"instance"},"search":{"type":"inline","query":"dataset==\"cribl_metrics\" dist_mode==\"managed-edge\" (worker_group==\"$fleet\" or \"$fleet\"==\"*\") metric==\"total.in_bytes\" | summarize in_bytes=sum(value) by bin(_time, 5m), instance | sort by _time asc","earliest":"$time_range.earliest$","latest":"$time_range.latest$","timezone":"$time_range.timezone$"},"layout":{"x":0,"y":8,"w":6,"h":4}},{"id":"ht-chart-out-bytes","type":"chart.line","variant":"chart","title":"Outbound bytes over time","config":{"axis":{"x":{"field":"_time","title":"Time"},"y":{"fields":["out_bytes"],"title":"Outbound bytes"}},"splitBy":"instance"},"search":{"type":"inline","query":"dataset==\"cribl_metrics\" dist_mode==\"managed-edge\" (worker_group==\"$fleet\" or \"$fleet\"==\"*\") metric==\"total.out_bytes\" | summarize out_bytes=sum(value) by bin(_time, 5m), instance | sort by _time asc","earliest":"$time_range.earliest$","latest":"$time_range.latest$","timezone":"$time_range.timezone$"},"layout":{"x":6,"y":8,"w":6,"h":4}},{"id":"ht-edge-table","type":"list.table","title":"Edge nodes (heavy talkers)","config":{},"search":{"type":"inline","query":"dataset==\"cribl_metrics\" dist_mode==\"managed-edge\" (worker_group==\"$fleet\" or \"$fleet\"==\"*\") (metric in (\"total.in_bytes\",\"total.out_bytes\",\"total.in_events\",\"total.out_events\")) | summarize in_bytes=sumif(value, metric==\"total.in_bytes\"), out_bytes=sumif(value, metric==\"total.out_bytes\"), in_events=sumif(value, metric==\"total.in_events\"), out_events=sumif(value, metric==\"total.out_events\") by instance, worker_group | sort by out_events desc | take 25 | project group=worker_group, id=instance, hostname=instance, in_events, out_events, in_bytes, out_bytes","earliest":"$time_range.earliest$","latest":"$time_range.latest$","timezone":"$time_range.timezone$"},"layout":{"x":0,"y":12,"w":12,"h":8}}]}
